<!DOCTYPE html>
{% load static %}
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>注册成功 - 校园综合服务平台</title>
  <link rel="stylesheet" href="{% static 'css/register-success-css.css' %}">
</head>
<body>
  <div class="success-background">
    <!-- 顶部流动线条 -->
    <div class="flowing-lines">
      <div class="line line1"></div>
      <div class="line line2"></div>
      <div class="line line3"></div>
      <div class="line line4"></div>
      <div class="bubble bubble1"></div>
      <div class="bubble bubble2"></div>
      <div class="bubble bubble3"></div>
      
      <!-- 不规则折线和拐角线 -->
      <div class="zigzag-line zigzag-line1"></div>
      <div class="zigzag-line zigzag-line2"></div>
      <div class="zigzag-line zigzag-line3"></div>
      
      <div class="corner-line corner-line1"></div>
      <div class="corner-line corner-line2"></div>
      <div class="corner-line corner-line3"></div>
      <div class="corner-line corner-line4"></div>
    </div>
    
    <!-- 左侧装饰线条 -->
    <div class="side-decoration left-decoration">
      <svg viewBox="0 0 100 600" preserveAspectRatio="none">
        <path class="deco-path" d="M0,0 Q30,150 10,300 T0,600" />
        <path class="deco-path" d="M20,0 Q50,200 30,400 T20,600" stroke-dasharray="5,5" />
        <path class="deco-path" d="M40,0 Q70,250 50,500 T40,600" />
      </svg>
    </div>
    
    <!-- 右侧装饰线条 -->
    <div class="side-decoration right-decoration">
      <svg viewBox="0 0 100 600" preserveAspectRatio="none">
        <path class="deco-path" d="M100,0 Q70,150 90,300 T100,600" />
        <path class="deco-path" d="M80,0 Q50,200 70,400 T80,600" stroke-dasharray="5,5" />
        <path class="deco-path" d="M60,0 Q30,250 50,500 T60,600" />
      </svg>
    </div>
    
    <!-- 底部波浪装饰 -->
    <div class="bottom-waves">
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M0,0 Q150,40 300,20 T600,40 T900,20 T1200,0 V120 H0 Z" fill="rgba(255,255,255,0.05)"></path>
        <path d="M0,30 Q150,70 300,50 T600,70 T900,50 T1200,30 V120 H0 Z" fill="rgba(255,255,255,0.1)"></path>
      </svg>
    </div>
    
    <!-- 点阵装饰 -->
    <div class="dot-grid"></div>
    
    <!-- 校园logo装饰 -->
    <div class="campus-logo logo1">
      <svg viewBox="0 0 100 100" width="60" height="60">
        <circle cx="50" cy="50" r="40" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2" />
        <path d="M30,50 L50,30 L70,50 L50,70 Z" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2" />
        <circle cx="50" cy="50" r="10" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2" />
      </svg>
    </div>
    
    <div class="campus-logo logo2">
      <svg viewBox="0 0 100 100" width="80" height="80">
        <rect x="25" y="25" width="50" height="50" fill="none" stroke="rgba(255,255,255,0.15)" stroke-width="2" transform="rotate(45, 50, 50)" />
        <circle cx="50" cy="50" r="30" fill="none" stroke="rgba(255,255,255,0.15)" stroke-width="2" />
        <path d="M35,50 L65,50 M50,35 L50,65" stroke="rgba(255,255,255,0.15)" stroke-width="2" />
      </svg>
    </div>
    
    <div class="campus-logo logo3">
      <svg viewBox="0 0 100 100" width="70" height="70">
        <polygon points="50,20 80,50 50,80 20,50" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2" />
        <circle cx="50" cy="50" r="20" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2" />
        <path d="M30,30 L70,70 M30,70 L70,30" stroke="rgba(255,255,255,0.2)" stroke-width="2" />
      </svg>
    </div>
  </div>
  
  <div class="register-container">
    <div class="success-icon">✓</div>
    <h2>注册成功！</h2>
    <p>恭喜您，已成功加入校园综合服务平台！</p>
    <p class="countdown">系统将在 <span id="timer">5</span> 秒后自动跳转...</p>
    <a href="{% url 'users:login' %}" class="register-btn">立即登录</a>
  </div>

  <script>
    // 倒计时自动跳转
    let seconds = 5;
    const timerElement = document.getElementById('timer');
    const interval = setInterval(() => {
      seconds--;
      timerElement.textContent = seconds;
      if (seconds <= 0) {
        clearInterval(interval);
        window.location.href = "{% url 'users:login' %}";
      }
    }, 1000);

    // 高级鼠标移动效果
    document.addEventListener('mousemove', (e) => {
      const mouseX = e.clientX / window.innerWidth;
      const mouseY = e.clientY / window.innerHeight;
      
      // 创建鼠标位置变量，值从-1到1
      const normalizedX = (mouseX - 0.5) * 2;
      const normalizedY = (mouseY - 0.5) * 2;
      
      // 为每条线应用独特的变形效果
      document.querySelectorAll('.line').forEach((line, index) => {
        const speed = index + 1;
        const offsetX = normalizedX * 15 * speed;
        const offsetY = normalizedY * 10 * speed;
        const skewX = normalizedY * 2; 
        const skewY = normalizedX * 2;
        const scale = 1 + Math.abs(normalizedX * normalizedY) * 0.05;
        
        line.style.transform = `translate(${offsetX}px, ${offsetY}px) skew(${skewX}deg, ${skewY}deg) scale(${scale})`;
      });
      
      // 为不规则折线应用移动效果
      document.querySelectorAll('.zigzag-line').forEach((line, index) => {
        const distance = index + 1;
        const rotateAmount = 2 * (index + 1);
        line.style.transform = `translateY(${normalizedY * 10 * distance}px) rotate(${normalizedX * rotateAmount}deg)`;
      });
      
      // 为不规则拐角线条应用效果
      document.querySelectorAll('.corner-line').forEach((line, index) => {
        const distance = index + 1;
        const scaleAmount = 0.05 * (index + 1);
        line.style.transform = `translate(${normalizedX * 15 * distance}px, ${normalizedY * 15 * distance}px) scale(${1 + Math.abs(normalizedX * normalizedY) * scaleAmount})`;
      });
      
      // 气泡跟随鼠标移动
      document.querySelectorAll('.bubble').forEach((bubble, index) => {
        const distance = index + 1;
        const offsetX = normalizedX * 40 * distance;
        const offsetY = normalizedY * 40 * distance;
        const rotation = (normalizedX * normalizedY) * 10;
        const scale = 1 + Math.abs(normalizedX * normalizedY) * 0.1;
        
        bubble.style.transform = `translate(${offsetX}px, ${offsetY}px) rotate(${rotation}deg) scale(${scale})`;
      });
      
      // 装饰线条跟随鼠标
      document.querySelectorAll('.side-decoration').forEach((deco, index) => {
        const moveX = normalizedX * (index === 0 ? -10 : 10);
        const moveY = normalizedY * 5;
        deco.style.transform = `translate(${moveX}px, ${moveY}px)`;
      });
      
      // 装饰Logo跟随鼠标并旋转
      document.querySelectorAll('.campus-logo').forEach((logo, index) => {
        const moveRadius = 15 * (index + 1);
        const rotateAmount = 5 * (index + 1);
        logo.style.transform = `translate(${normalizedX * moveRadius}px, ${normalizedY * moveRadius}px) rotate(${normalizedX * normalizedY * rotateAmount}deg)`;
      });
      
      // 底部波浪效果
      const bottomWaves = document.querySelector('.bottom-waves');
      if (bottomWaves) {
        bottomWaves.style.transform = `translateY(${normalizedY * 10}px)`;
      }
      
      // 成功图标跟随鼠标微微浮动
      const successIcon = document.querySelector('.success-icon');
      if (successIcon) {
        successIcon.style.transform = `translate(${normalizedX * 5}px, ${normalizedY * 5}px) scale(${1 + Math.abs(normalizedX * normalizedY) * 0.05})`;
      }
    });
    
    // 创建点阵背景
    const createDotGrid = () => {
      const grid = document.querySelector('.dot-grid');
      const dotSize = 3;
      const gapSize = 30;
      const rows = Math.ceil(window.innerHeight / gapSize);
      const cols = Math.ceil(window.innerWidth / gapSize);
      
      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const dot = document.createElement('div');
          dot.className = 'dot';
          dot.style.top = `${r * gapSize}px`;
          dot.style.left = `${c * gapSize}px`;
          dot.style.width = `${dotSize}px`;
          dot.style.height = `${dotSize}px`;
          dot.style.animationDelay = `${Math.random() * 5}s`;
          grid.appendChild(dot);
        }
      }
    };
    
    // 页面加载时创建点阵
    window.addEventListener('load', createDotGrid);
  </script>

  <style>
    /* 不规则流动线条 - 中部 */
    .zigzag-line {
      position: absolute;
      z-index: 0;
      opacity: 0.3;
      pointer-events: none;
    }

    .zigzag-line1 {
      top: 30%;
      left: -5%;
      width: 110%;
      height: 100px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 100'%3E%3Cpath fill='none' stroke='rgba(255,255,255,0.5)' stroke-width='2' d='M0,50 L100,20 L200,80 L300,10 L400,90 L500,30 L600,70 L700,20 L800,60 L900,10 L1000,50 L1100,80 L1200,20'/%3E%3C/svg%3E") repeat-x;
      background-size: 1200px 100px;
      animation: zigzag1 30s linear infinite;
    }

    .zigzag-line2 {
      top: 50%;
      right: -5%;
      width: 110%;
      height: 80px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 100'%3E%3Cpath fill='none' stroke='rgba(255,255,255,0.5)' stroke-width='2' d='M0,80 L150,30 L300,70 L450,20 L600,60 L750,10 L900,50 L1050,20 L1200,70'/%3E%3C/svg%3E") repeat-x;
      background-size: 1200px 80px;
      animation: zigzag2 25s linear infinite;
    }

    .zigzag-line3 {
      bottom: 25%;
      left: -10%;
      width: 120%;
      height: 120px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath fill='none' stroke='rgba(255,255,255,0.5)' stroke-width='2' d='M0,60 L120,20 L240,80 L360,40 L480,100 L600,20 L720,70 L840,30 L960,90 L1080,10 L1200,60'/%3E%3C/svg%3E") repeat-x;
      background-size: 1200px 120px;
      animation: zigzag3 35s linear infinite;
    }

    @keyframes zigzag1 {
      0% { transform: translateX(0); }
      100% { transform: translateX(-1200px); }
    }

    @keyframes zigzag2 {
      0% { transform: translateX(0); }
      100% { transform: translateX(1200px); }
    }

    @keyframes zigzag3 {
      0% { transform: translateX(0); }
      100% { transform: translateX(-1200px); }
    }

    /* 不规则拐角线条 - 角落装饰 */
    .corner-line {
      position: absolute;
      pointer-events: none;
      opacity: 0.15;
    }

    .corner-line1 {
      top: 15%;
      left: 10%;
      width: 150px;
      height: 150px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 150'%3E%3Cpath fill='none' stroke='rgba(255,255,255,0.8)' stroke-width='2' d='M0,50 L50,50 L50,0 M0,100 L100,100 L100,0 M0,150 L150,150 L150,0'/%3E%3C/svg%3E") no-repeat;
      animation: rotate1 30s linear infinite;
    }

    .corner-line2 {
      top: 25%;
      right: 10%;
      width: 120px;
      height: 120px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'%3E%3Cpath fill='none' stroke='rgba(255,255,255,0.8)' stroke-width='2' d='M0,0 L120,0 L120,40 M0,40 L80,40 L80,80 M0,80 L40,80 L40,120'/%3E%3C/svg%3E") no-repeat;
      animation: rotate2 25s linear infinite;
    }

    .corner-line3 {
      bottom: 15%;
      left: 15%;
      width: 100px;
      height: 100px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath fill='none' stroke='rgba(255,255,255,0.8)' stroke-width='2' d='M0,0 L50,0 L50,50 L100,50 M0,50 L30,50 L30,100 M70,0 L70,30 L100,30'/%3E%3C/svg%3E") no-repeat;
      animation: rotate3 20s linear infinite;
    }

    .corner-line4 {
      bottom: 20%;
      right: 10%;
      width: 140px;
      height: 140px;
      background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 140 140'%3E%3Cpath fill='none' stroke='rgba(255,255,255,0.8)' stroke-width='2' d='M0,140 L0,70 L70,70 L70,0 M0,100 L40,100 L40,40 L100,40 L100,0'/%3E%3C/svg%3E") no-repeat;
      animation: rotate4 35s linear infinite;
    }

    @keyframes rotate1 {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes rotate2 {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(-360deg); }
    }

    @keyframes rotate3 {
      0% { transform: rotate(0deg) scale(1); }
      50% { transform: rotate(180deg) scale(1.1); }
      100% { transform: rotate(360deg) scale(1); }
    }

    @keyframes rotate4 {
      0% { transform: rotate(0deg) scale(1); }
      50% { transform: rotate(-180deg) scale(0.9); }
      100% { transform: rotate(-360deg) scale(1); }
    }
  </style>
</body>
</html>
