<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>二手市场</title>
  <link rel="stylesheet" href="{% static 'css/second-hand-market-css.css' %}">

</head>
<body>

<!-- 导航栏 -->
<div class="navbar">
    <li><a href="{% url 'homepage:homepage' %}">首页</a></li>
    <li><a href="{% url 'activities:activities' %}">社团活动专区</a></li>
    <li><a href="{% url 'materials:materials'%}">课件共享区</a></li>
    <li><a href="{% url 'forum:forum' %}">论坛</a></li>
    <li><a href="{% url 'confess:confess' %}">表白墙</a></li>
</div>


<!-- 二手商品发布区 -->
<div class="container">
  <h1>二手市场</h1>

  <!-- 发布商品表单 -->
  <div class="form-container">
    <h2>发布二手商品</h2>
    <form id="second-hand-form">
      <input type="text" id="item-name" placeholder="商品名称" required>
      <input type="number" id="item-price" placeholder="价格" required>
      <textarea id="item-description" placeholder="商品描述（选填）"></textarea>
      <input type="file" id="item-image" accept="image/*">
      <button type="submit">发布商品</button>
    </form>
  </div>

  <!-- 二手商品列表 -->
  <h2>已发布商品</h2>
  <div class="second-hand-list">
    <div class="second-hand-item">
      <img src="../images/3.jpg" alt="商品1" class="item-img">
      <div class="item-info">
        <h3>二手书籍</h3>
        <p>价格：￥30</p>
        <button class="contact-btn">联系卖家</button>
      </div>
    </div>
    <div class="second-hand-item">
      <img src="../images/4.jpg" alt="商品2" class="item-img">
      <div class="item-info">
        <h3>旧电脑</h3>
        <p>价格：￥500</p>
        <button class="contact-btn">联系卖家</button>
      </div>
    </div>
  </div>
</div>
<script src="../scripts/jquery-3.7.1.js"></script>
<script>
  // 动态更新二手商品列表（在实际开发中，通常是通过AJAX从服务器获取）
  $('#second-hand-form').submit(function(event) {
    event.preventDefault();
    let itemName = $('#item-name').val();
    let itemPrice = $('#item-price').val();
    let itemDescription = $('#item-description').val();
    let itemImage = $('#item-image')[0].files[0];

    // 在此模拟提交成功后更新列表（实际项目需要上传到服务器）
    let newItem = `
        <div class="second-hand-item">
          <img src="path/to/your/image.jpg" alt="${itemName}" class="item-img">
          <div class="item-info">
            <h3>${itemName}</h3>
            <p>价格：￥${itemPrice}</p>
            <button class="contact-btn">联系卖家</button>
          </div>
        </div>
      `;

    $('.second-hand-list').append(newItem);
    $('#second-hand-form')[0].reset(); // 重置表单
  });
</script>

</body>
</html>
